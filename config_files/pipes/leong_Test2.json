 {
   "description" : "Align fastq PE reads then sort and index the  bam files",
   "workflow" : [
    "generate-mosaik-parameters",
    "build-read-archive",
    "align",
    "sort-primary-bam",
    "sort-multiple-bam",
    "index-primary-bam"	     
  ],
  "tools" : {
    "generate-mosaik-parameters" : "premo",
    "build-read-archive" : "mosaik-build-fastq",
    "align" : "mosaik-aligner",
    "sort-primary-bam" : "bamtools-sort",
    "sort-multiple-bam" : "bamtools-sort",
    "index-primary-bam" : "bamtools-index"
  },
  "linkage" : {
    "build-read-archive":{
     "-q":{
       "tool":"generate-mosaik-parameters",
       "command":"-fq1"
	},
     "-q2":{
      "tool":"generate-mosaik-parameters",
      "command":"-fq2"
	},
     "json parameters":{
      	 "tool":"generate-mosaik-parameters",
	 "command":"-out",
	 "json block":"MosaikBuild"
      }
     },
     "align":{
         "tool":"build-read-archive",
	 "command":"-out"
     },
     "sort-primary-bam":{
         "-in":{
	   "tool":"align",
	   "command":"-out",
	   "extension":".bam"
	 }
     },	 
     "sort-multiple-bam":{
         "-in":{
	    "tool":"align",
	    "command":"-out",
	    "extension":".multiple.bam"
	 }
     },
     "index-primary-bam":{
         "-in":{
	    "tool":"sort-primary-bam",
	    "command":"-out",
	    "extension":".sorted.bam"
	 }	
     }   	
  },
  "arguments" : {
    "--fastq":{
      "tool":"generate-mosaik-parameters",
      "command":"-fq1",
      "alternative":"-q",
      "type":"string"
    },
    "--fastq2":{
      "tool":"generate-mosaik-parameters",
      "command":"-fq2",
      "alternative":"-q2",
      "type":"string"
    },
    "--hash-size":{
      "tool":"generate-mosaik-parameter",
      "command":"-hs",
      "alternative":"-hs",
      "type":"integer"  
    },
    "--mosaik-reference":{
      "tool":"generate-mosaik-parameters",
      "command":"-ref",
      "alternative":"-r",
      "type":"string",
      "default":"test_genome.dat"
    }   
  }
}
